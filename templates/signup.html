{% extends 'base.html' %}
{% block title %}Sign Up - Project Manager AI{% endblock %}
{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <div class="auth-header">
            <h2>Create Account</h2>
            <p>Join us and start managing your projects</p>
        </div>
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ form.username.id_for_label }}">Username</label>
                <input type="text" 
                       name="{{ form.username.name }}" 
                       id="{{ form.username.id_for_label }}"
                       placeholder="Choose a username"
                       required
                       autofocus>
                {% if form.username.errors %}
                    <ul>
                        {% for error in form.username.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.username.help_text %}
                    <span class="helptext">{{ form.username.help_text }}</span>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">Email</label>
                <input type="email" 
                       name="{{ form.email.name }}" 
                       id="{{ form.email.id_for_label }}"
                       placeholder="Enter your email address"
                       required
                       autocomplete="email">
                {% if form.email.errors %}
                    <ul style="color: var(--error-color); margin-top: 0.5rem; font-size: 0.85rem;">
                        {% for error in form.email.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.email.help_text %}
                    <span class="helptext">{{ form.email.help_text }}</span>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.first_name.id_for_label }}">First Name</label>
                <input type="text" 
                       name="{{ form.first_name.name }}" 
                       id="{{ form.first_name.id_for_label }}"
                       placeholder="Enter your first name"
                       required
                       autocomplete="given-name">
                {% if form.first_name.errors %}
                    <ul style="color: var(--error-color); margin-top: 0.5rem; font-size: 0.85rem;">
                        {% for error in form.first_name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.last_name.id_for_label }}">Last Name</label>
                <input type="text" 
                       name="{{ form.last_name.name }}" 
                       id="{{ form.last_name.id_for_label }}"
                       placeholder="Enter your last name"
                       required
                       autocomplete="family-name">
                {% if form.last_name.errors %}
                    <ul style="color: var(--error-color); margin-top: 0.5rem; font-size: 0.85rem;">
                        {% for error in form.last_name.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.phone_number.id_for_label }}">Phone Number <span style="color: var(--text-secondary); font-weight: normal;">(Optional)</span></label>
                <input type="tel" 
                       name="{{ form.phone_number.name }}" 
                       id="{{ form.phone_number.id_for_label }}"
                       placeholder="Enter your phone number (e.g., +1 234 567 8900)"
                       autocomplete="tel">
                {% if form.phone_number.errors %}
                    <ul style="color: var(--error-color); margin-top: 0.5rem; font-size: 0.85rem;">
                        {% for error in form.phone_number.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.phone_number.help_text %}
                    <span class="helptext">{{ form.phone_number.help_text }}</span>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.password1.id_for_label }}">Password</label>
                <input type="password" 
                       name="{{ form.password1.name }}" 
                       id="{{ form.password1.id_for_label }}"
                       placeholder="Create a strong password"
                       required>
                {% if form.password1.errors %}
                    <ul style="color: var(--error-color); margin-top: 0.5rem; font-size: 0.85rem;">
                        {% for error in form.password1.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.password2.id_for_label }}">Confirm Password</label>
                <input type="password" 
                       name="{{ form.password2.name }}" 
                       id="{{ form.password2.id_for_label }}"
                       placeholder="Confirm your password"
                       required>
                {% if form.password2.errors %}
                    <ul style="color: var(--error-color); margin-top: 0.5rem; font-size: 0.85rem;">
                        {% for error in form.password2.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="{{ form.role.id_for_label }}">Role</label>
                <select name="{{ form.role.name }}" 
                       id="{{ form.role.id_for_label }}"
                       class="form-group input"
                       required>
                    {% for value, label in form.role.field.choices %}
                        <option value="{{ value }}" {% if value == 'project_manager' %}selected{% endif %}>{{ label }}</option>
                    {% endfor %}
                </select>
                {% if form.role.errors %}
                    <ul>
                        {% for error in form.role.errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                {% endif %}
                {% if form.role.help_text %}
                    <span class="helptext">{{ form.role.help_text }}</span>
                {% endif %}
            </div>
            <button type="submit" class="btn btn-primary">Create Account</button>
        </form>
        <p class="text-center mt-3" style="color: var(--text-secondary);">
            Already have an account? <a href="{% url 'login' %}" style="color: var(--primary-color); text-decoration: none; font-weight: 600;">Sign in here</a>
        </p>
    </div>
</div>
{% endblock %}